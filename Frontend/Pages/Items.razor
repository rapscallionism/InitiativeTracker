@page "/items";
@using MudBlazor;

<PageTitle>Items</PageTitle>

<MudContainer>
    <MudGrid>
        <MudItem id="Search Box">
            <MudTextField @bind-Value="SearchedEquipment"
            Label="Search"
            Variant="Variant.Outlined"
            Adornment="Adornment.End"
            AdornmentIcon="@Icons.Material.Filled.Search"
            AdornmentColor="Color.Info" />
        </MudItem>

        <MudItem id="Filter Options + Misc">
            <MudSelect T="string" 
                Label="Filter By" 
                MultiSelection="true" 
                @bind-Value="_defaultSelectedFilter"
                @bind-SelectedValues="_selectedFilterOptions">
                @foreach (var options in _filterOptions)
                {
                    <MudSelectItem T="string" Value="@options">@options</MudSelectItem>
                }
            </MudSelect>
        </MudItem>

        <MudFlexBreak/>

        <MudItem id="ResultsTable">

        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    // Page is supposed to be about for custom items to be able to keep track of the users' items for us and resets on short rest and long rest
    // List<Item> items = ItemParser.ParseAllJsonToItems("../../ItemsJson");

    // [Parameter]
    // public

    public string _defaultSelectedFilter = string.Empty;
    public IEnumerable<string> _selectedFilterOptions = new HashSet<string>();

    private readonly string[] _filterOptions = [
        "Tags",
        "Rarity",
    ];

    public string? SearchedEquipment { get; set; } = string.Empty;

    protected override void OnInitialized()
    {
        Console.WriteLine("Running!");
    }
}